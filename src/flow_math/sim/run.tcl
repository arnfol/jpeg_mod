# -------------------------------------------------------------------
# config
# -------------------------------------------------------------------

set worklib "work"
set top_lvl "flow_mult_tb"
set macro_file "wave.do"

# -------------------------------------------------------------------
# make lib
# -------------------------------------------------------------------
vlib $worklib

# -------------------------------------------------------------------
# compile
# -------------------------------------------------------------------
vlog -work $worklib "../flow_mult.sv"
vlog -work $worklib "flow_mult_tb.sv"

# -------------------------------------------------------------------
# simulate
# -------------------------------------------------------------------

# some windows
view structure
view signals
view wave

vsim -L lpm_ver "$worklib.$top_lvl"

# signals
if {!($macro_file eq "")} { do $macro_file }

# run
run 100 ns